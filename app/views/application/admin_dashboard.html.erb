<h1>Admin Dashboard</h1><br>
<h4>View Orders By:</h4>
<%= link_to "Ordered", admin_dashboard_path(:status_hold => "Ordered")%> |
<%= link_to "Paid", admin_dashboard_path(:status_hold => "Paid")%> |
<%= link_to "Cancelled", admin_dashboard_path(:status_hold => "Cancelled")%> |
<%= link_to "Completed", admin_dashboard_path(:status_hold => "Completed")%> |
<%= link_to "All Orders", admin_dashboard_path(:status_hold => nil)%>
<h3><%= @order_list_title %>:</h3>
<div class ="order_list">
  <%@orders.each do |order| %>
    <ul class="orders">
      <h4><%=link_to "Order #{order.id}", order_path(order)%></h4>
      <li> Contents: <br>
      <ol>
          <%order.contents.each do |id, quantity|%>
         <li><strong><%=@beans.find(id.to_i).title%></strong><br>
          Quantity: <%=quantity%> <br>
          <% end %>
          </ol>
          </li>
      <li> Total Price: $<%=order.total_price%></li>
      <li> Status: <%=order.status%></li>
      Change Status:
      <%= link_to("Cancel", admin_order_path(order, :status => 'Cancelled'), method: :put)%> |
      <%= link_to("Paid", admin_order_path(order, :status => 'Paid'), method: :put)%> |
      <%= link_to("Completed", admin_order_path(order, :status => 'Completed'), method: :put)%>
    </ul><br>
  <% end %>
</div>
<div class="order-status">
  <p id="ordered-count">Ordered Count: <%= @orders.ordered_count %></p><br>
  <p id="paid-count">Paid Count: <%= @orders.paid_count %></p><br>
  <p id="cancelled-count">Cancelled Count: <%= @orders.cancelled_count %></p><br>
  <p id="completed-count">Completed Count: <%= @orders.completed_count %></p>
</div>
